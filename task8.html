<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
  <style type="text/css">
  .list { margin-top: 50px;}
    .list a{ display: inline-block; text-align: center; color: #fff; line-height: 40px; height: 40px; padding: 0 20px; margin: 0 5px; background: #5CA7BA;}
    div{border:1px solid #111;display: flex; padding: 10px; background: #fff;margin-right: 5px;}
  </style>
<body>


<div id="box">super
  <div>car
    <div>Apple
      <div>pear</div>
      <div>pig</div>
      <div>cola</div>
      <div>soccer</div>
    </div>
    <div>phone</div>
    <div>
      <div>book</div>
      <div>school</div>
    </div>
  </div>
  <div>Note
    <div>Human
      <div>code</div>
      <div>operate</div>
      <div>Man</div>
    </div>
    <div>program
      <div>
        <div>bement
          <div>cot</div>
        </div>
        <div>glass</div>
      </div>
    </div>
  </div>
  <div>fish</div>
</div>

<button id="qxbl">前序遍历</button>
<button id="zxbl">中序遍历</button>
<button id="hxbl">后序遍历</button>

<input id="findcontent" type="text">
<button id="find">查询</button>
<script type="text/javascript">
  var a=document.getElementById("box");
      e=a.getElementsByTagName("div");
      c=document.getElementById("find");
      d=document.getElementById("findcontent");
      b=document.getElementById("qxbl");
      f=document.getElementById("zxbl");
      g=document.getElementById("hxbl");
      tree=[];
console.log(d.value);
 b.onclick=function(){
start();
 preOrder(a);
 show();
 console.log(tree);
 }
f.onclick=function(){
  start();
 inOrder(a);
 show();
 }
 g.onclick=function(){
start();
 postOrder(a);
 show();
 }
c.onclick=function(){
  start();
  preOrder(a);
  findvalue();
}
function start(){
  tree=[];

}
function show(){
  let i=0;
  tree[i].style.background="#f00";
  var change;
  change=setInterval(function(){
    i++;
    if(i<tree.length){
            tree[i-1].style.background="#fff";
            tree[i].style.background="red";
          }else{
            clearInterval(change);
            tree[i-1].style.background="#fff";
          }
  },300);
}

function findvalue(){
   let i=0;
  tree[i].style.background="#f00";
  var change;
  change=setInterval(function(){
    i++;
    if(i<tree.length){
       
             if(d.value==tree[i-1].childNodes[0].textContent.replace(/[\r\n\s]/g,"")){
              console.log('reight');
              tree[i-1].style.background="red";
              tree[i].style.background="red";
            }else{
              tree[i-1].style.background="#fff";
              tree[i].style.background="red";
            }
          }else{
              clearInterval(change);
              tree[i-1].style.background="#fff";
          }
  },300);
}

var preOrder = function (node) { 
 if (node) {  
  tree.push(node);
    for(var i=0; i<node.children.length;i++){
      preOrder(node.children[i]);
    }
 }
}
var inOrder = function (node) { 
 if (node) {  
  tree.push(node);
    for(var i=0; i<node.children.length;i++){
      inOrder(node.children[i]);
    }
 }
}
var postOrder = function (node) { 
 if (node) {  
  tree.push(node);
    for(var i=0; i<node.children.length;i++){
      postOrder(node.children[i]);
    }
 }
}

</script>
</body>
</html>